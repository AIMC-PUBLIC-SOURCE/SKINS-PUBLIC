(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{203:function(t,e,a){"use strict";var n=a(96);a.n(n).a},204:function(t,e,a){(e=a(7)(!1)).push([t.i,".btn-create-app {\n  margin-bottom: 5px;\n  margin-right: 10px;\n}\n",""]),t.exports=e},32:function(t,e,a){"use strict";var n=a(1),r=a(4);e.a=n.a.extend({mounted(){r.a("mounted",{el:this.$root.$options.el})}})},354:function(t,e,a){"use strict";a.r(e);var n=a(55),r=(a(54),a(11)),s=a(42),i=a(32),o=a(5),c=a(3),l={name:"OAuthApps",components:{Modal:r.a,VueGoodTable:n.a},mixins:[i.a,s.a],data(){return{name:"",callback:"",clients:[],columns:[{field:"id",label:this.$t("user.oauth.id"),type:"number"},{field:"name",label:this.$t("user.oauth.name")},{field:"secret",label:this.$t("user.oauth.secret"),sortable:!1,globalSearchDisabled:!0},{field:"redirect",label:this.$t("user.oauth.redirect"),sortable:!1,globalSearchDisabled:!0},{field:"operations",label:this.$t("admin.operationsTitle"),sortable:!1,globalSearchDisabled:!0}]}},mounted(){this.fetchData()},methods:{async fetchData(){this.clients=await this.$http.get("/oauth/clients")},async create(){const t=await this.$http.post("/oauth/clients",{name:this.name,redirect:this.callback});t.id?this.clients.unshift(t):c.b.error(t.message)},async modifyName(t){let e;try{({value:e}=await Object(c.a)({mode:"prompt",title:this.$t("user.oauth.name"),input:t.name}))}catch{return}await this.modify(t,{name:e})},async modifyCallback(t){let e;try{({value:e}=await Object(c.a)({mode:"prompt",title:this.$t("user.oauth.redirect"),input:t.redirect}))}catch{return}await this.modify(t,{redirect:e})},async modify(t,e){const a=new Request(`/oauth/clients/${t.id}`,Object.assign({},o.b,{body:JSON.stringify(Object.assign({name:t.name,redirect:t.redirect},e)),method:"PUT"}));a.headers.set("Content-Type","application/json");const n=await Object(o.d)(a);n.id?Object.assign(t,e):c.b.error(n.message)},async remove(t){try{await Object(c.a)({text:this.$t("user.oauth.confirmRemove"),okButtonType:"danger"})}catch{return}const e=new Request(`/oauth/clients/${t.id}`,Object.assign({},o.b,{method:"DELETE"}));await Object(o.d)(e),this.$delete(this.clients,this.clients.findIndex(({id:e})=>e===t.id))}}},u=(a(203),a(10)),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("button",{staticClass:"btn-create-app btn btn-primary",attrs:{type:"primary","data-toggle":"modal","data-target":"#modal-create"}},[t._v("\n    "+t._s(t.$t("user.oauth.create"))+"\n  ")]),t._v(" "),a("vue-good-table",{attrs:{rows:t.clients,columns:t.columns,"search-options":t.tableOptions.search,"pagination-options":t.tableOptions.pagination,"style-class":"vgt-table striped"},scopedSlots:t._u([{key:"table-row",fn:function(e){return["name"===e.column.field?a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+" \n        "),a("a",{attrs:{title:t.$t("user.oauth.modifyName"),href:"#","data-test":"name"},on:{click:function(a){return t.modifyName(e.row)}}},[a("i",{staticClass:"fas fa-edit btn-edit"})])]):"redirect"===e.column.field?a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+" \n        "),a("a",{attrs:{title:t.$t("user.oauth.modifyUrl"),href:"#","data-test":"callback"},on:{click:function(a){return t.modifyCallback(e.row)}}},[a("i",{staticClass:"fas fa-edit btn-edit"})])]):"operations"===e.column.field?a("span",[a("button",{staticClass:"btn btn-danger",attrs:{"data-test":"remove"},on:{click:function(a){return t.remove(e.row)}}},[t._v("\n          "+t._s(t.$t("report.delete"))+"\n        ")])]):a("span",[t._v("\n        "+t._s(e.formattedRow[e.column.field])+"\n      ")])]}}])}),t._v(" "),a("modal",{attrs:{id:"modal-create",title:t.$t("user.oauth.create")},on:{confirm:t.create}},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",{directives:[{name:"t",rawName:"v-t",value:"user.oauth.name",expression:"'user.oauth.name'"}],staticClass:"key"}),t._v(" "),a("td",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),a("tr",[a("td",{directives:[{name:"t",rawName:"v-t",value:"user.oauth.redirect",expression:"'user.oauth.redirect'"}],staticClass:"key"}),t._v(" "),a("td",{staticClass:"value"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.callback,expression:"callback"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.callback},on:{input:function(e){e.target.composing||(t.callback=e.target.value)}}})])])])])])],1)}),[],!1,null,null,null);e.default=d.exports},42:function(t,e,a){"use strict";var n=a(1);e.a=n.a.extend({data(){return{tableOptions:{search:{enabled:!0,placeholder:this.$t("vendor.datatable.search")},pagination:{enabled:!0,nextLabel:this.$t("vendor.datatable.next"),prevLabel:this.$t("vendor.datatable.prev"),rowsPerPageLabel:this.$t("vendor.datatable.rowsPerPage"),allLabel:this.$t("vendor.datatable.all"),ofLabel:this.$t("vendor.datatable.of")}}}}})},7:function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var r=(i=n,o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(c," */")),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[a].concat(s).concat([r]).join("\n")}var i,o,c;return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(a,"}"):a})).join("")},e.i=function(t,a,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(r[i]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);n&&r[c[0]]||(a&&(c[2]?c[2]="".concat(a," and ").concat(c[2]):c[2]=a),e.push(c))}},e}},8:function(t,e,a){"use strict";function n(t,e){for(var a=[],n={},r=0;r<e.length;r++){var s=e[r],i=s[0],o={id:t+":"+r,css:s[1],media:s[2],sourceMap:s[3]};n[i]?n[i].parts.push(o):a.push(n[i]={id:i,parts:[o]})}return a}a.r(e),a.d(e,"default",(function(){return m}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,c=0,l=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,a,r){l=a,d=r||{};var i=n(t,e);return h(i),function(e){for(var a=[],r=0;r<i.length;r++){var o=i[r];(c=s[o.id]).refs--,a.push(c)}e?h(i=n(t,e)):i=[];for(r=0;r<a.length;r++){var c;if(0===(c=a[r]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete s[c.id]}}}}function h(t){for(var e=0;e<t.length;e++){var a=t[e],n=s[a.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](a.parts[r]);for(;r<a.parts.length;r++)n.parts.push(b(a.parts[r]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var i=[];for(r=0;r<a.parts.length;r++)i.push(b(a.parts[r]));s[a.id]={id:a.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function b(t){var e,a,n=document.querySelector("style["+p+'~="'+t.id+'"]');if(n){if(l)return u;n.parentNode.removeChild(n)}if(f){var r=c++;n=o||(o=v()),e=w.bind(null,n,r,!1),a=w.bind(null,n,r,!0)}else n=v(),e=C.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}var g,y=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function w(t,e,a,n){var r=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var s=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}function C(t,e){var a=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),d.ssrId&&t.setAttribute(p,e.id),r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}},96:function(t,e,a){var n=a(204);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(8).default)("4ea79cb5",n,!0,{})}}]);