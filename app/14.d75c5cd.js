(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{130:function(t,e,n){"use strict";var i=n(3),s={name:"EmailVerification",data:()=>({verified:!blessing.extra.unverified,pending:!1}),methods:{async resend(){this.pending=!0;const{code:t,message:e}=await this.$http.post("/user/email-verification");0===t?i.b.success(e):i.b.error(e),this.pending=!1}}},a=n(10),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.verified?t._e():n("div",{staticClass:"callout callout-info"},[n("h4",[n("i",{staticClass:"fas fa-envelope"}),t._v(" "+t._s(t.$t("user.verification.title")))]),t._v(" "),n("p",[t._v("\n    "+t._s(t.$t("user.verification.message"))+"\n    "),t.pending?n("span",[n("i",{staticClass:"fas fa-spin fa-spinner"}),t._v("\n      "+t._s(t.$t("user.verification.sending"))+"\n    ")]):n("a",{attrs:{href:"#"},on:{click:t.resend}},[t._v("\n      "+t._s(t.$t("user.verification.resend"))+"\n    ")])])])}),[],!1,null,null,null);e.a=r.exports},194:function(t,e,n){"use strict";(function(t){var n=function(){this._tweens={},this._tweensAddedDuringUpdate={}};n.prototype={getAll:function(){return Object.keys(this._tweens).map(function(t){return this._tweens[t]}.bind(this))},removeAll:function(){this._tweens={}},add:function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},remove:function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},update:function(t,e){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(t=void 0!==t?t:s.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var a=this._tweens[n[i]];a&&!1===a.update(t)&&(a._isPlaying=!1,e||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var i,s=new n;s.Group=n,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof self&&void 0!==t&&t.hrtime?s.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?s.now=self.performance.now.bind(self.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(t,e){this._isPaused=!1,this._pauseStart=null,this._object=t,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=e||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},isPaused:function(){return this._isPaused},to:function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},duration:function(t){return this._duration=t,this},start:function(t){for(var e in this._group.add(this),this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._startTime=void 0!==t?"string"==typeof t?s.now()+parseFloat(t):t:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}void 0!==this._object[e]&&(void 0===this._valuesStart[e]&&(this._valuesStart[e]=this._object[e]),this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(1/0),this},pause:function(t){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=void 0===t?s.now():t,this._group.remove(this),this)},resume:function(t){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===t?s.now():t)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},stopChainedTweens:function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},group:function(t){return this._group=t,this},delay:function(t){return this._delayTime=t,this},repeat:function(t){return this._repeat=t,this},repeatDelay:function(t){return this._repeatDelayTime=t,this},yoyo:function(t){return this._yoyo=t,this},easing:function(t){return this._easingFunction=t,this},interpolation:function(t){return this._interpolationFunction=t,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(t){return this._onStartCallback=t,this},onUpdate:function(t){return this._onUpdateCallback=t,this},onRepeat:function(t){return this._onRepeatCallback=t,this},onComplete:function(t){return this._onCompleteCallback=t,this},onStop:function(t){return this._onStopCallback=t,this},update:function(t){var e,n,i;if(t<this._startTime)return!0;for(e in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[e]){var s=this._valuesStart[e]||0,a=this._valuesEnd[e];a instanceof Array?this._object[e]=this._interpolationFunction(a,i):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?s+parseFloat(a):parseFloat(a)),"number"==typeof a&&(this._object[e]=s+(a-s)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e])),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,u=this._chainedTweens.length;o<u;o++)this._chainedTweens[o].start(this._startTime+this._duration);return!1}return!0}},s.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-s.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*s.Easing.Bounce.In(2*t):.5*s.Easing.Bounce.Out(2*t-1)+.5}}},s.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,a=Math.floor(i),r=s.Interpolation.Utils.Linear;return e<0?r(t[0],t[1],i):e>1?r(t[n],t[n-1],n-i):r(t[a],t[a+1>n?n:a+1],i-a)},Bezier:function(t,e){for(var n=0,i=t.length-1,a=Math.pow,r=s.Interpolation.Utils.Bernstein,o=0;o<=i;o++)n+=a(1-e,i-o)*a(e,o)*t[o]*r(i,o);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,a=Math.floor(i),r=s.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(a=Math.floor(i=n*(1+e))),r(t[(a-1+n)%n],t[a],t[(a+1)%n],t[(a+2)%n],i-a)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(r(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):r(t[a?a-1:0],t[a],t[n<a+1?n:a+1],t[n<a+2?n:a+2],i-a)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=s.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var n=t;n>1;n--)e*=n;return i[t]=e,e}),CatmullRom:function(t,e,n,i,s){var a=.5*(n-t),r=.5*(i-e),o=s*s;return(2*e-2*n+a+r)*(s*o)+(-3*e+3*n-2*a-r)*o+a*s+e}}},s.version="18.4.2",e.a=s}).call(this,n(13))},195:function(t,e,n){"use strict";var i=n(90);n.n(i).a},196:function(t,e,n){(e=n(7)(!1)).push([t.i,".score-title {\n  margin-top: 5px;\n}\n@media (max-width: 768px) {\n.score-title {\n    margin-top: 12px;\n}\n}\n#score {\n  font-family: Minecraft;\n  font-size: 50px;\n  text-align: center;\n  margin-top: 20px;\n  cursor: help;\n}\n.score-notice {\n  font-size: smaller;\n  margin-top: 20px;\n}\n",""]),t.exports=e},32:function(t,e,n){"use strict";var i=n(1),s=n(4);e.a=i.a.extend({mounted(){s.a("mounted",{el:this.$root.$options.el})}})},350:function(t,e,n){"use strict";n.r(e);var i=n(194),s=n(130),a=n(32),r=n(3);var o={name:"Dashboard",components:{EmailVerification:s.a},mixins:[a.a],data:()=>({score:0,tweenedScore:0,lastSignAt:new Date,signAfterZero:!1,signGap:0,signing:!1,playersUsed:0,playersTotal:1,storageUsed:0,storageTotal:1,tween:null}),computed:{playersPercentage(){return this.playersUsed/this.playersTotal*100},storagePercentage(){return this.storageUsed/this.storageTotal*100},signRemainingTime(){if(this.signAfterZero){const t=(new Date).setHours(0,0,0,0),e=t+864e5;return this.lastSignAt.valueOf()<t?0:e-Date.now()}return this.lastSignAt.valueOf()+this.signGap-Date.now()},remainingTimeText(){const t=this.signRemainingTime/1e3/60;return t<60?this.$t("user.sign-remain-time",{time:~~t,unit:this.$t("user.time-unit-min")}):this.$t("user.sign-remain-time",{time:~~(t/60),unit:this.$t("user.time-unit-hour")})},canSign(){return this.signRemainingTime<=0},animatedScore(){return this.tweenedScore.toFixed(0)}},watch:{score(t){this.tween.to({tweenedScore:t},1e3).start()}},created(){this.tween=new i.a.Tween(this.$data)},beforeMount(){this.fetchScoreInfo()},mounted(){!function t(){requestAnimationFrame(t),i.a.update()}()},methods:{async fetchScoreInfo(){const{data:t}=await this.$http.get("/user/score-info");this.lastSignAt=new Date(t.user.lastSignAt),this.signAfterZero=t.signAfterZero,this.signGap=3600*t.signGapTime*1e3,this.playersUsed=t.stats.players.used,this.playersTotal=t.stats.players.total,this.storageUsed=t.stats.storage.used,this.storageTotal=t.stats.storage.total,this.score=t.user.score},async sign(){this.signing=!0;const{code:t,message:e,data:n}=await this.$http.post("/user/sign");0===t?(r.b.success(e),this.score=n.score,this.lastSignAt=new Date,this.storageUsed=n.storage.used,this.storageTotal=n.storage.total):r.b.warning(e),this.signing=!1}}},u=(n(195),n(10)),c=Object(u.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("email-verification"),t._v(" "),n("div",{staticClass:"card card-primary card-outline"},[n("div",{staticClass:"card-header"},[n("h3",{directives:[{name:"t",rawName:"v-t",value:"user.used.title",expression:"'user.used.title'"}],staticClass:"card-title"})]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-1"}),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"info-box bg-teal"},[t._m(0),t._v(" "),n("div",{staticClass:"info-box-content"},[n("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("user.used.players")))]),t._v(" "),n("span",{staticClass:"info-box-number"},[n("strong",[t._v(t._s(t.playersUsed))]),t._v(" / "+t._s(t.playersTotal)+"\n              ")]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.playersPercentage+"%"}})])])]),t._v(" "),n("div",{staticClass:"info-box bg-maroon"},[t._m(1),t._v(" "),n("div",{staticClass:"info-box-content"},[n("span",{staticClass:"info-box-text"},[t._v(t._s(t.$t("user.used.storage")))]),t._v(" "),n("span",{staticClass:"info-box-number"},[t.storageUsed>1024?[n("strong",[t._v(t._s(~~(t.storageUsed/1024)))]),t._v(" / "+t._s(~~(t.storageTotal/1024))+" MB\n                ")]:[n("strong",[t._v(t._s(t.storageUsed))]),t._v(" / "+t._s(t.storageTotal)+" KB\n                ")]],2),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.storagePercentage+"%"}})])])])]),t._v(" "),n("div",{staticClass:"col-md-4"},[n("p",{staticClass:"text-center score-title"},[n("strong",{directives:[{name:"t",rawName:"v-t",value:"user.cur-score",expression:"'user.cur-score'"}]})]),t._v(" "),n("p",{attrs:{id:"score","data-toggle":"modal","data-target":"#modal-score-instruction"}},[t._v("\n            "+t._s(t.animatedScore)+"\n          ")]),t._v(" "),n("p",{directives:[{name:"t",rawName:"v-t",value:"user.score-notice",expression:"'user.score-notice'"}],staticClass:"text-center score-notice"})])])]),t._v(" "),n("div",{staticClass:"card-footer"},[t.canSign?n("button",{staticClass:"btn bg-gradient-primary pl-5 pr-5",attrs:{disabled:t.signing},on:{click:t.sign}},[n("i",{staticClass:"far fa-calendar-check",attrs:{"aria-hidden":"true"}}),t._v("  "+t._s(t.$t("user.sign"))+"\n      ")]):n("button",{staticClass:"btn bg-gradient-primary pl-4 pr-4",attrs:{title:t.$t("user.last-sign",{time:t.lastSignAt.toLocaleString()}),disabled:""}},[n("i",{staticClass:"far fa-calendar-check",attrs:{"aria-hidden":"true"}}),t._v("  \n        "+t._s(t.remainingTimeText)+"\n      ")])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-gamepad"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"info-box-icon"},[e("i",{staticClass:"fas fa-hdd"})])}],!1,null,null,null);e.default=c.exports},7:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(r=i,o=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(u," */")),a=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([s]).join("\n")}var r,o,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(s[r]=!0)}for(var o=0;o<t.length;o++){var u=[].concat(t[o]);i&&s[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},8:function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},s=0;s<e.length;s++){var a=e[s],r=a[0],o={id:t+":"+s,css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(o):n.push(i[r]={id:r,parts:[o]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,u=0,c=!1,l=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,s){c=n,h=s||{};var r=i(t,e);return _(r),function(e){for(var n=[],s=0;s<r.length;s++){var o=r[s];(u=a[o.id]).refs--,n.push(u)}e?_(r=i(t,e)):r=[];for(s=0;s<n.length;s++){var u;if(0===(u=n[s]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete a[u.id]}}}}function _(t){for(var e=0;e<t.length;e++){var n=t[e],i=a[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(g(n.parts[s]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(s=0;s<n.parts.length;s++)r.push(g(n.parts[s]));a[n.id]={id:n.id,refs:1,parts:r}}}}function v(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function g(t){var e,n,i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(c)return l;i.parentNode.removeChild(i)}if(f){var s=u++;i=o||(o=v()),e=y.bind(null,i,s,!1),n=y.bind(null,i,s,!0)}else i=v(),e=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var m,b=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function y(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var a=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function w(t,e){var n=e.css,i=e.media,s=e.sourceMap;if(i&&t.setAttribute("media",i),h.ssrId&&t.setAttribute(d,e.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},90:function(t,e,n){var i=n(196);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(8).default)("314ed522",i,!0,{})}}]);